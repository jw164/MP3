<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>MP3 Task Manager (Frontend)</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 2rem; }
    button { padding: 8px 12px; background:#0078d7; color:#fff; border:0; border-radius:4px; cursor:pointer; }
    ul { padding:0; list-style:none; }
    li { margin:6px 0; padding:8px; border:1px solid #ddd; border-radius:4px; }
  </style>
</head>
<body>
  <h1>MP3 Task Manager</h1>
  <p>Backend API (Codespaces) must be running and port 3000 set to Public.</p>

  <button id="load">Load Tasks</button>
  <ul id="list"></ul>

  <script>
    // Replace with your Codespaces public URL (no trailing slash)
    const API_BASE = "https://YOUR_CODESPACES_URL"; // e.g. https://3000-jw164-xxxxx.github.dev

    document.getElementById("load").onclick = async () => {
      try {
        const res = await fetch(`${API_BASE}/api/tasks`);
        const json = await res.json();
        const list = document.getElementById("list");
        list.innerHTML = (json.data || []).map(t => `<li>${t.name}</li>`).join("") || "<li>No tasks found.</li>";
      } catch (e) {
        alert("Failed to load tasks. Is your Codespaces API running and public?");
      }
    };
  </script>
</body>
</html>
